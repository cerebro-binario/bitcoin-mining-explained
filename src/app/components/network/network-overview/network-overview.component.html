<div class="w-full h-full flex flex-col bg-zinc-950">
  <div class="flex items-center gap-4 p-6 border-b border-zinc-800 bg-zinc-900">
    <button
      class="px-4 py-2 rounded bg-blue-600 text-white font-semibold hover:bg-blue-700 transition"
      (click)="addMiner()"
    >
      + Minerador
    </button>
    <button
      class="px-4 py-2 rounded bg-green-600 text-white font-semibold hover:bg-green-700 transition"
      (click)="addNode()"
    >
      + Nó
    </button>
    <button
      class="px-4 py-2 rounded bg-yellow-500 text-white font-semibold hover:bg-yellow-600 transition"
      (click)="addUser()"
    >
      + Usuário
    </button>
    <span class="ml-8 text-lg text-zinc-300 font-bold"
      >Visualização da Rede</span
    >
  </div>
  <div class="flex-1 flex flex-row min-h-0">
    <div class="flex-1 flex items-center justify-center min-h-0">
      <!-- Grafo da rede -->
      <app-graph-plot
        class="w-full h-full"
        (nodeSelected)="onEntitySelected($event)"
      />
    </div>
    <div
      class="w-[380px] bg-zinc-900 border-l border-zinc-800 p-6 min-h-0 flex flex-col"
    >
      <h2 class="text-xl font-bold text-blue-400 mb-4">Detalhes</h2>
      <ng-container *ngIf="selectedEntity; else noSelection">
        <div class="mb-4">
          <div class="text-zinc-300 font-semibold text-lg">
            {{ selectedEntity.name || "Sem nome" }}
          </div>
          <div class="text-xs text-zinc-400 mb-2">
            Tipo: {{ selectedEntity.nodeType }}
          </div>
          <div class="text-xs text-zinc-400 mb-2">
            ID: {{ selectedEntity.id }}
          </div>
        </div>
        <div class="flex gap-2">
          <button class="px-3 py-1 rounded bg-blue-600 text-white">
            Ver Perfil
          </button>
          <button class="px-3 py-1 rounded bg-red-600 text-white">
            Remover
          </button>
        </div>
      </ng-container>
      <ng-template #noSelection>
        <div
          class="flex-1 text-zinc-400 italic flex items-center justify-center"
        >
          (Selecione um nó/minerador/usuário no grafo)
        </div>
      </ng-template>
    </div>
  </div>
</div>

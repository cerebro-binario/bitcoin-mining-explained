<div
  class="h-full w-full bg-zinc-800 rounded-lg shadow p-6 border border-zinc-700"
>
  <div class="flex items-center justify-between mb-2">
    <h3 class="text-lg font-semibold text-blue-400">Bloco Atual</h3>
    <span
      *ngIf="miningElapsed !== undefined"
      class="text-xs text-zinc-400 bg-zinc-900 rounded px-2 py-1 ml-2"
      >⏱️ {{ (miningElapsed / 1000).toFixed(1) }}s</span
    >
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    <div class="space-y-4">
      <div class="grid grid-cols-2 gap-4">
        <div>
          <span class="text-xs text-zinc-400">ID:</span>
          <span class="font-mono text-sm text-white block">{{
            block?.id
          }}</span>
        </div>

        <div>
          <span class="text-xs text-zinc-400">Timestamp:</span>
          <span class="font-mono text-sm text-white block">{{
            block?.timestamp | date : "medium"
          }}</span>
        </div>

        <div class="col-span-2">
          <span class="text-xs text-zinc-400">Hash Anterior:</span>
          <span class="font-mono text-sm text-white block truncate">{{
            block?.previousHash ||
              "0000000000000000000000000000000000000000000000000000000000000000"
          }}</span>
        </div>

        <div class="col-span-2">
          <span class="text-xs text-zinc-400">Hash Atual:</span>
          <span class="font-mono text-sm text-white block truncate">{{
            block?.hash ||
              "0000000000000000000000000000000000000000000000000000000000000000"
          }}</span>
        </div>

        <div class="col-span-2">
          <span class="text-xs text-zinc-400">Target:</span>
          <span class="font-mono text-sm text-white block truncate">{{
            target
          }}</span>
        </div>

        <div>
          <span class="text-xs text-zinc-400">Nonce:</span>
          <span class="font-mono text-sm text-white block">{{
            block?.nonce | number
          }}</span>
        </div>

        <div>
          <span class="text-xs text-zinc-400">Consenso:</span>
          <span class="font-mono text-sm text-white block"
            >v{{ block?.consensusVersion }}</span
          >
        </div>
      </div>
    </div>

    <div class="space-y-4">
      <div>
        <span class="text-xs text-zinc-400"
          >Transações ({{ block?.transactions?.length || 0 }}):</span
        >
        <div class="mt-2 space-y-2">
          <div
            *ngFor="let tx of block?.transactions"
            class="bg-zinc-900 p-3 rounded"
          >
            <div class="flex items-center justify-between">
              <span class="text-xs text-zinc-400">ID:</span>
              <span class="font-mono text-xs text-white truncate">{{
                tx.id
              }}</span>
            </div>
            <div class="mt-1">
              <span class="text-xs text-zinc-400">Inputs:</span>
              <div *ngFor="let input of tx.inputs" class="ml-2">
                <span class="font-mono text-xs text-white truncate block">
                  {{ input.txid }}:{{ input.vout }}
                </span>
              </div>
            </div>
            <div class="mt-1">
              <span class="text-xs text-zinc-400">Outputs:</span>
              <div *ngFor="let output of tx.outputs" class="ml-2">
                <span class="font-mono text-xs text-white truncate block">
                  {{ output.value / 100000000 }} BTC → {{ output.scriptPubKey }}
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
